<div class="login-container">
    <div class="login-left">
        <div class="login-content">
            <img src="assets/images/logo_qq.png" alt="Logo Quero-Quero" class="logo" />
            <h2>Colaborador</h2>
            <p class="login-label">Cadastro</p>

            <!-- Usamos ngSubmit para o formulário chamar a função register -->
            <form (ngSubmit)="register()">

                <!-- Mensagem de Erro -->
                <div *ngIf="erro" class="alert alert-error">
                    {{ erro }}
                </div>

                <!-- Mensagem de Sucesso (geralmente não é vista pois há redirecionamento) -->
                <div *ngIf="sucesso" class="alert alert-success">
                    {{ sucesso }}
                </div>

                <input type="text" placeholder="Nome Completo" [(ngModel)]="nome" name="nome" required />
                <input type="email" placeholder="E-mail Corporativo" [(ngModel)]="email" name="email" required />

                <!-- CORREÇÃO: O select agora usa o perfilId numérico diretamente -->
                <select [(ngModel)]="perfilId" name="perfilId" required>
                    <!-- Os IDs (1 e 2) devem corresponder aos IDs no seu banco de dados -->
                    <option [ngValue]="2">Operador</option>
                    <option [ngValue]="1">Administrador</option>
                </select>

                <input type="password" placeholder="Crie uma Senha" [(ngModel)]="senha" name="senha" required />

                <button type="submit" [disabled]="isLoading">
                    {{ isLoading ? 'Enviando...' : 'Cadastrar' }}
                </button>

                <!-- Botão para voltar à tela de login -->
                <button type="button" class="button-secondary" [routerLink]="'/login'">Voltar para o Login</button>
            </form>
        </div>
    </div>
    <div class="login-right">
        <img src="assets/images/mascote_quero_quero.jpg" alt="Mascote Quero-Quero" />
    </div>
</div>
