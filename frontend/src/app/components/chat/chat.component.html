<div class="page-container">
    <div class="page-left">
        <div class="page-content">
            <h2><i class="fas fa-question-circle"></i> Quero Ajuda</h2>

            <form (ngSubmit)="enviarPergunta()">
                <label>Tema:</label>
                <select [(ngModel)]="chat.tema" name="tema" (change)="onTemaChange()" required>
                    <option value="">Selecione um tema</option>
                    <option *ngFor="let t of temasDisponiveis" [value]="t">{{ t }}</option>
                </select>

                <label>Micro-tema:</label>
                <select [(ngModel)]="chat.microTema" name="microTema" required>
                    <option value="">Selecione um micro-tema</option>
                    <option *ngFor="let mt of microTemasRelacionados" [value]="mt">{{ mt }}</option>
                </select>

                <label>Pergunta:</label>
                <textarea [(ngModel)]="chat.pergunta" name="pergunta" rows="4" required></textarea>

                <button type="submit"><i class="fas fa-paper-plane"></i> Enviar</button>
            </form>

            <div *ngIf="chat.resposta" class="resposta">
                <h3>Resposta:</h3>
                <p>{{ chat.resposta }}</p>

                <div class="avaliacao">
                    <span>Avalie esta resposta:</span>
                    <button (click)="avaliar('util')" [disabled]="chat.avaliacao">Foi útil</button>
                    <button (click)="avaliar('nao-util')" [disabled]="chat.avaliacao">Não foi útil</button>
                    <p *ngIf="chat.avaliacao"><strong>Obrigado!</strong></p>
                </div>
            </div>
        </div>
    </div>
</div>
